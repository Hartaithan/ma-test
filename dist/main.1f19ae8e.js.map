{"version":3,"sources":["main.js"],"names":["form","document","getElementById","inputs","querySelectorAll","getGroupComponents","id","input","querySelector","formGroup","parentElement","small","setError","message","className","innerText","resetError","validateInputs","i","length","value","trimmedValue","trim","disabled","match","console","log","submit","addEventListener","e","preventDefault","payload","firstName","target","lastName","phone","password","errors","valideInputs"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"..\\src","sourcesContent":["/* eslint-disable no-duplicate-case */\n/* eslint-disable no-console */\n\nconst form = document.getElementById('form');\nconst inputs = form.querySelectorAll('input');\n\nfunction getGroupComponents(id) {\n  const input = document.querySelector(`#${id}`);\n  const formGroup = input.parentElement;\n  const small = formGroup.querySelector('small');\n  return { input, formGroup, small };\n}\n\nfunction setError(id, message) {\n  const { formGroup, small } = getGroupComponents(id);\n  formGroup.className = 'form__group invalid';\n  small.innerText = message;\n}\n\nfunction resetError(id) {\n  const { formGroup, small } = getGroupComponents(id);\n  formGroup.className = 'form__group';\n  small.innerText = '';\n}\n\nfunction validateInputs() {\n  for (let i = 0; i < inputs.length; i += 1) {\n    const { id, value } = inputs[i];\n    const trimmedValue = value.trim();\n    if (trimmedValue === '') {\n      setError(id, 'Это поле обязательно');\n      document.querySelector('.form__submit').disabled = true;\n      return false;\n    }\n    switch (id) {\n      case 'firstName':\n      case 'lastName':\n        if (!trimmedValue.match(/[a-zA-Z]+/g)) {\n          setError(id, 'Поле должно состоять только из латинских символов');\n          return false;\n        }\n        break;\n      case 'phone':\n        if (!trimmedValue.match(/^[0-9]+$/g)) {\n          setError(id, 'Телефон должен состоять только из цифр');\n          return false;\n        }\n        if (trimmedValue[0] !== '7') {\n          setError(id, 'Телефон должен начинаться с 7');\n          return false;\n        }\n        break;\n      case 'password':\n        if (trimmedValue !== inputs[4].value.trim()) {\n          setError(id, 'Пароли должны совпадать');\n          setError('passwordCheck', 'Пароли должны совпадать');\n          return false;\n        }\n        break;\n      case 'password':\n      case 'passwordCheck':\n        if (value.length < 6) {\n          console.log(value.length);\n          setError('password', 'Пароль должен иметь длину от 6 символов');\n          setError('passwordCheck', 'Пароль должен иметь длину от 6 символов');\n          return false;\n        }\n        if (!trimmedValue.match(/[a-zA-Z0-9]+/g)) {\n          setError(\n            id,\n            'Поле должно состоять только из латинских символов и цифр',\n          );\n          return false;\n        }\n        if (!value.match(/[A-Z]+/g)) {\n          setError(\n            'password',\n            'Пароль должен содержать в себе хоты бы одну заглавную букву',\n          );\n          setError(\n            id,\n            'Пароль должен содержать в себе хоты бы одну заглавную букву',\n          );\n          return false;\n        }\n        if (!value.match(/[\\d]/g)) {\n          setError(\n            'password',\n            'Пароль должен содержать в себе хоты бы одну цифру',\n          );\n          setError(id, 'Пароль должен содержать в себе хоты бы одну цифру');\n          return false;\n        }\n        if (value.match(/[\\s]/g)) {\n          setError('password', 'Пароль не должен содержать в себе пробелы');\n          setError(id, 'Пароль не должен содержать в себе пробелы');\n          return false;\n        }\n        break;\n      default:\n        break;\n    }\n  }\n  const submit = document.querySelector('.form__submit');\n  submit.className = 'form__submit success';\n  submit.innerText = 'Данные отправлены';\n  return true;\n}\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n  if (validateInputs()) {\n    const payload = {\n      firstName: e.target[0].value,\n      lastName: e.target[1].value,\n      phone: e.target[2].value,\n      password: e.target[3].value,\n    };\n    console.log(payload);\n  }\n});\n\nform.addEventListener('keydown', () => {\n  const errors = form.querySelectorAll('.invalid');\n  let valideInputs = 0;\n  for (let i = 0; i < inputs.length; i += 1) {\n    const { id, value } = inputs[i];\n    if (value.trim().length > 0) {\n      valideInputs += 1;\n      resetError(id);\n    }\n  }\n  if (valideInputs === inputs.length && errors.length === 0) {\n    document.querySelector('.form__submit').disabled = false;\n  } else {\n    document.querySelector('.form__submit').disabled = true;\n  }\n});\n"]}